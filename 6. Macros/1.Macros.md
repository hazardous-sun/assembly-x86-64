# Macros

A macro is a single instruction that expands into a predefined set of
instructions to perform a particular task.

**NOTE**: the syntax for macros differs by assembler. 

For example, when using NASM (Netwid Assemble), the `exit` keyword 
expands into:

```asm
mov rax, 60
mov rdi, 0
syscall
```

## Defining Macros 

A macro is composed of 3 sections:
1. `<name>`: The name of the macro, used to call it in the code
2. `<argc>`: The number of arguments the macro will take
3. `<macro body>`: The definition of the macro 

```asm
%macro <name> <argc>
    ...
    <macro body>
    ...
%endmacro
```

## Example

- `exit` macro:

```asm 
%macro exit 0
    mov rax, 60
    mov rdi, 0
    syscall
%endmacro
```

## Arguments for Macros

`<argc>` is the number of arguments the macro takes. Arguments are 
*inputs* that can be passed into the macro.

Within the macro body, these inputs are referenced using `%1` for the first input, `%2` for the second and so on.

## Macro for printing a digit 

For the "printDigit" macro, argc is 1 because it takes 1 argument 
(the digit).

For the "exit" macro, argc is 0 because it takes no arguments.

When we use "printDigit" in code under _start, we specify a number 
after it, that is our first argument.

When we use "exit", we specify no numbers after it because it takes 
no arguments.

```asm
%%macro exit 0
    mov rax, 60
    mov rdi, 0
    syscall
%endmacro

macro printDigit 1
    mov rax, %1 
    call _printRAXDigit
%endmacro

_start:
    printDigit 3 
    printDigit 4 
    
    exit
```
